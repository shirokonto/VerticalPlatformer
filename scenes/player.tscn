[gd_scene load_steps=4 format=3 uid="uid://bd74qd5i3omkj"]

[ext_resource type="Texture2D" uid="uid://n8arfu3ab15l" path="res://icon.svg" id="1_2khe4"]

[sub_resource type="GDScript" id="GDScript_4f0av"]
script/source = "extends CharacterBody2D

@export var MAX_SPEED = 300
@export var ACCELERATION = 1500
@export var FRICTION = 1200

@onready var axis = Vector2.ZERO

# const SPEED = 300.0
# const JUMP_VELOCITY = -400.0

# Get the gravity from the project settings to be synced with RigidBody nodes.
# var gravity = ProjectSettings.get_setting(\"physics/2d/default_gravity\")

func _physics_process(delta):
	move(delta)

func get_input_axis():
	axis = Input.get_vector(\"move_left\", \"move_right\", \"move_up\", \"move_down\")
	return axis.normalized()
	
func move(delta):
	axis = get_input_axis()
	
	if axis == Vector2.ZERO:
		apply_friction(FRICTION * delta)
	else:
		apply_movement(axis * ACCELERATION * delta)
		
	move_and_slide()


func apply_friction(amount):
	if velocity.length() > amount:
		velocity -= velocity.normalized() * amount
	else:
		velocity = Vector2.ZERO
		
func apply_movement(accel):
	velocity += accel
	velocity = velocity.limit_length(MAX_SPEED)
"

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_g7epn"]
radius = 29.0
height = 62.0

[node name="Player" type="CharacterBody2D"]
script = SubResource("GDScript_4f0av")
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_g7epn")

[node name="Sprite2D" type="Sprite2D" parent="."]
scale = Vector2(0.5, 0.5)
texture = ExtResource("1_2khe4")
